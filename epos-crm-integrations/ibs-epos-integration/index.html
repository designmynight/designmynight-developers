<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-gb">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <title> - DMN developer documentation</title>
    <meta name="generator" content="Hugo 0.22.1" />

    
    <meta name="description" content="Developer documentation for DesignMyNight">
    
    <link rel="canonical" href="https://developers.designmynight.com/epos-crm-integrations/ibs-epos-integration/">
    
    <meta name="author" content="DesignMyNight Tech Team">
    

    <meta property="og:url" content="https://developers.designmynight.com/epos-crm-integrations/ibs-epos-integration/">
    <meta property="og:title" content="DMN developer documentation">
    <meta property="og:image" content="https://developers.designmynight.com/images/logo.png">
    <meta name="apple-mobile-web-app-title" content="DMN developer documentation">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="https://developers.designmynight.com/images/favicon.png">
    <link rel="icon" type="image/x-icon" href="https://developers.designmynight.com/images/favicon.png">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('https://developers.designmynight.com/fonts/icon.eot?52m981');
        src: url('https://developers.designmynight.com/fonts/icon.eot?#iefix52m981')
               format('embedded-opentype'),
             url('https://developers.designmynight.com/fonts/icon.woff?52m981')
               format('woff'),
             url('https://developers.designmynight.com/fonts/icon.ttf?52m981')
               format('truetype'),
             url('https://developers.designmynight.com/fonts/icon.svg?52m981#icon')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="https://developers.designmynight.com/stylesheets/application.css">
    <link rel="stylesheet" href="https://developers.designmynight.com/stylesheets/palettes.css">
    <link rel="stylesheet" href="https://developers.designmynight.com/stylesheets/styles.css">
    <link rel="stylesheet" href="https://developers.designmynight.com/stylesheets/highlight/highlight.css">

    
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ubuntu:400,700|Ubuntu%20Mono">
    <style>
      body, input {
        font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
      }
    </style>
    
    
    <script src="https://developers.designmynight.com/javascripts/modernizr.js"></script>

  </head>
  <body class="palette-primary-teal palette-accent-deep purple">




<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        
      </div>
    </div>

    

    
    <div class="button button-github" role="button" aria-label="GitHub">
      <a href="https://github.com/designmynight/dmn-developers" title="@designmynight/dmn-developers on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
    </div>
    
    
        
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">
  <a href="https://developers.designmynight.com/" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="https://developers.designmynight.com/images/logo.png">
        </div>
      
      <div class="name">
        <strong>DMN developer documentation <span class="version">1.1.0</span></strong>
        
      </div>
    </div>
  </a>

  <div class="scrollable">
    <div class="wrapper">
      

      <div class="toc">
        
        <ul>
          




<li>
  
    



<a  title="Introduction" href="https://developers.designmynight.com/">
	
	Introduction
</a>

  
  
</li>



<li>
  
    



<a  title="    " href="https://developers.designmynight.com/">
	
	    
</a>

  
  
</li>



<li>
  
  <li>
    

    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
      <span class="section">Soda</span>
      
    
      
    
      
    
      
    
    

    <ul>
      
        
        



<a  title="Voucher widget" href="https://developers.designmynight.com/soda/partner-widget/">
	
	Voucher widget
</a>

  
      
    </ul>
  </li>
  
</li>



<li>
  
  <li>
    

    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
      <span class="section">Tonic</span>
      
    
    

    <ul>
      
        
        



<a  title="Ticket widget" href="https://developers.designmynight.com/tonic/ticket-widget/">
	
	Ticket widget
</a>

  
      
    </ul>
  </li>
  
</li>



<li>
  
    



<a  title="     " href="https://developers.designmynight.com/">
	
	     
</a>

  
  
</li>



<li>
  
  <li>
    

    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
      <span class="section">Collins</span>
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
    

    <ul>
      
        
        



<a  title="Updating Email Settings" href="https://developers.designmynight.com/collins/updating-email-settings/">
	
	Updating Email Settings
</a>

  
      
        
        



<a  title="V1 Booking Widget" href="https://developers.designmynight.com/collins/booking-widget/">
	
	V1 Booking Widget
</a>

  
      
        
        



<a  title="V1 Widget: Customising 2nd Iframe" href="https://developers.designmynight.com/collins/customising-2nd-iframe/">
	
	V1 Widget: Customising 2nd Iframe
</a>

  
      
        
        



<a  title="V1 Widget: Tracking" href="https://developers.designmynight.com/collins/tracking/">
	
	V1 Widget: Tracking
</a>

  
      
        
        



<a  title="V2 Booking Widget" href="https://developers.designmynight.com/collins/v2-widget-docs/">
	
	V2 Booking Widget
</a>

  
      
        
        



<a  title="V2 Widget: Customising Second Stage" href="https://developers.designmynight.com/collins/customising-second-stage-of-v2-widget/">
	
	V2 Widget: Customising Second Stage
</a>

  
      
        
        



<a  title="V2 Widget: Tracking" href="https://developers.designmynight.com/collins/v2-widget-tracking/">
	
	V2 Widget: Tracking
</a>

  
      
        
        



<a  title="Booking URLs" href="https://developers.designmynight.com/collins/booking-url/">
	
	Booking URLs
</a>

  
      
        
        



<a  title="General Enquiry Form" href="https://developers.designmynight.com/collins/general-enquiry-form/">
	
	General Enquiry Form
</a>

  
      
        
        



<a  title="Customising Email Templates" href="https://developers.designmynight.com/collins/customising-email-templates/">
	
	Customising Email Templates
</a>

  
      
    </ul>
  </li>
  
</li>



<li>
  
    



<a  title=" " href="https://developers.designmynight.com/">
	
	 
</a>

  
  
</li>



<li>
  
  <li>
    

    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
      <span class="section">Api</span>
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
    

    <ul>
      
        
        



<a  title="API Basics" href="https://developers.designmynight.com/api/api-basics/">
	
	API Basics
</a>

  
      
        
        



<a  title="Booking API" href="https://developers.designmynight.com/api/booking-api/">
	
	Booking API
</a>

  
      
        
        



<a  title="Bookings search" href="https://developers.designmynight.com/api/bookings-search/">
	
	Bookings search
</a>

  
      
        
        



<a  title="Users API" href="https://developers.designmynight.com/api/users-api/">
	
	Users API
</a>

  
      
        
        



<a  title="Offers API" href="https://developers.designmynight.com/api/offers-api/">
	
	Offers API
</a>

  
      
        
        



<a  title="Venues API" href="https://developers.designmynight.com/api/venues-api/">
	
	Venues API
</a>

  
      
        
        



<a  title="Venue Groups API" href="https://developers.designmynight.com/api/venue-groups/">
	
	Venue Groups API
</a>

  
      
        
        



<a  title="API FAQs" href="https://developers.designmynight.com/api/api-faqs/">
	
	API FAQs
</a>

  
      
    </ul>
  </li>
  
</li>



<li>
  
    



<a  title="        " href="https://developers.designmynight.com/">
	
	        
</a>

  
  
</li>



<li>
  
  <li>
    

    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
      <span class="section">Epos-Crm-Integrations</span>
      
    
      
    
      
    
      
    
      
    
      
    
    

    <ul>
      
        
        



<a  title="EPOS Integration" href="https://developers.designmynight.com/epos-crm-integrations/epos-integration">
	
	EPOS Integration
</a>

  
      
        
        



<a  title="Zonal EPOS Integration" href="https://developers.designmynight.com/epos-crm-integrations/zonal-epos-integration/">
	
	Zonal EPOS Integration
</a>

  
      
        
        



<a class="current" title="IBS EPOS Integration" href="https://developers.designmynight.com/epos-crm-integrations/ibs-epos-integration/">
	
	IBS EPOS Integration
</a>


<ul id="scrollspy">
</ul>
  
      
        
        



<a  title="Tevalis EPOS Integration" href="https://developers.designmynight.com/epos-crm-integrations/tevalis-epos-integration/">
	
	Tevalis EPOS Integration
</a>

  
      
        
        



<a  title="Kobas EPOS Integration" href="https://developers.designmynight.com/epos-crm-integrations/kobas-epos-integration/">
	
	Kobas EPOS Integration
</a>

  
      
        
        



<a  title="CRM Integration" href="https://developers.designmynight.com/epos-crm-integrations/crm-integration/">
	
	CRM Integration
</a>

  
      
    </ul>
  </li>
  
</li>



<li>
  
    



<a  title="          " href="https://developers.designmynight.com/">
	
	          
</a>

  
  
</li>

        </ul>
        

        
        <hr>
        <span class="section">&#9829; DesignMyNight Tech Team</span>        
        
        <ul>
          

          
          <li>
            <a href="https://github.com/designmynight/dmn-developers" target="_blank" title="@designmynight/dmn-developers on GitHub">
              @designmynight/dmn-developers on GitHub
            </a>
          </li>
          
        </ul>
        
      </div>
    </div>
  </div>
</nav>

	</div>

	<article class="article">
		<div class="wrapper">
			<h1> </h1>

			

<h1 id="overview-of-the-collins-access-epos-integration">Overview of the Collins/Access EPOS Integration</h1>

<p>The purpose of the integration between Collins and Access EPOS is to be able to push the details of bookings and their associated deposits to the Access EPOS system.</p>

<p>We will push valid bookings to the EPOS as soon as they are created in Collins.</p>

<p><strong>Details can be set to:</strong></p>

<ul>
<li>Push all bookings <strong>or</strong> only push bookings with deposits</li>
</ul>

<p><strong>Bookings will be sent to the EPOS with the following details:</strong></p>

<ul>
<li>Name: The Customer&rsquo;s full name</li>
<li>Date: The date of the booking</li>
<li>Time: The time of the booking</li>
<li>Cover Count: The number of guests in the booking</li>
<li>Reference: The Collins booking reference</li>
<li>Deposit amount: The total of all paid deposit</li>
</ul>

<h2 id="payments-valid-to-push-to-access-epos">Payments Valid to Push to Access EPOS</h2>

<ul>
<li><strong>Paid Deposits</strong></li>
</ul>

<p>All <a href="https://collins.uservoice.com/knowledgebase/articles/478069-collins-pay-how-to">manual/request payments</a> taken using the payment link in Collins will automatically push to your Access EPOS.</p>

<ul>
<li><strong>Payments claimed by Card Authentication</strong></li>
</ul>

<p>We now have the option to set up the integration so that when you claim a <a href="https://collins.uservoice.com/knowledgebase/articles/478064-card-authentication-how-to">Collins Card Authentication</a> payment, Collins will push the claimed payment to your tills. To enable this function, please contact your Collins Account Manager.</p>

<ul>
<li><strong>Pushing &lsquo;Other&rsquo; Payments</strong></li>
</ul>

<p>If you add an <a href="https://collins.uservoice.com/knowledgebase/articles/478056-within-a-booking-enquiry-recording-payments-made">&lsquo;Other&rsquo;</a> Payment to your Collins booking, you will see an option to &lsquo;Push to Till&rsquo;. By default, this field will stay blank.</p>

<p>Depending on whether you would like to push the &lsquo;Other&rsquo; payment to your tills, you will have to manually select Yes/No from the drop-down accordingly.</p>

<p>You will not be able to proceed with adding the payment without selecting an option on the &lsquo;Push to Till&rsquo; drop down.</p>

<p>This way your team has full control as to which payments get pushed to your tills.</p>

<ul>
<li><strong>Refunds</strong></li>
</ul>

<p>When you <a href="https://collins.uservoice.com/knowledgebase/articles/803478-collins-pay-how-do-i-refund-a-customer">refund a deposit</a> or delete an &lsquo;Other&rsquo; payment in Collins, this change will be pushed to Stocklink so that Collins and your tills are synced.</p>

<h2 id="setting-up-the-collins-access-epos-integration">Setting up the Collins/Access EPOS Integration:</h2>

<p>If you would like to set up the integration to push bookings/payments to your Access EPOS, you will need to contact your Collins Account Manager with the following details (you will be able to get these from your contact at Accept EPOS):</p>

<ul>
<li>Logon URL</li>
<li>WSDL</li>
<li>CompanyCode</li>
<li>Username</li>
<li>Password</li>
<li>AppGUID</li>
<li>LocationCode</li>
<li>Media Mappings to be used for <strong>each</strong> of the following payment types:</li>
</ul>

<ol>
<li>Collins Pay</li>
<li>Other Payment BACS</li>
<li>Other Payment Card</li>
<li>Other Payment Cash</li>
<li>Other Payment Cheque</li>
<li>Other Payment PDQ</li>
<li>Gift Voucher</li>
<li>For any &lsquo;other&rsquo; payments that have <strong>not</strong> been assigned a payment type within Collins (as a default setting)</li>
</ol>

<p>You will also need to specify <strong>which bookings</strong> you would like Collins to push to your tills:</p>

<ul>
<li>Only bookings with deposits: If set, only bookings with deposits will be sent to the EPOS. Otherwise, we can push all bookings to your tills.</li>
<li><a href="https://developers.designmynight.com/epos-crm-integrations/-epos-integration/#refunding-on-collins-and-ibs">Refunds</a>: if set, refunds issued within Collins will update on Stocklink. Otherwise, refunds will not push and you will have to manually update your tills after refunding the payment within Collins.</li>
</ul>

<h2 id="how-to-push-bookings-deposits-that-were-added-to-collins-before-the-access-epos-integration-goes-live">How to push bookings/deposits that were added to Collins before the Access EPOS integration goes live</h2>

<p>Any bookings that are already on Collins (before the Collins/Access EPOS integration is set up) will <strong>not</strong> push to the till unless a deposit is added/changed/deleted for the booking on Collins.</p>

<p>As such, if you add a new payment to any bookings already on Collins before the integration was set up, the booking will be pushed to the tills.</p>

<p>If you wish to push a booking/deposit that was already set up on Collins before the integration (even if no new payments have been taken after the integration is set up):</p>

<ol>
<li>Go to the booking on Collins</li>
<li>Add an <a href="https://collins.uservoice.com/knowledgebase/articles/478056-within-a-booking-enquiry-recording-payments-made">&lsquo;Other&rsquo;payment</a>. Select for the payment <strong>not</strong> to push to your tills.<br /></li>
<li>Save the booking</li>
<li>Delete the deposit</li>
<li>Save the booking</li>
</ol>

<p>The booking should push to your tills.</p>

<h2 id="checking-that-the-collins-access-epos-integration-is-set-up-correctly">Checking that the Collins/Access EPOS Integration is set up correctly</h2>

<p>Once your Collins Account Manager has been in touch that the integration has been set up, it will be your responsibility to check that the integration is working correctly (as Collins will not be able to access your till systems to test).</p>

<p>As such, we recommend that you create a test payment through Collins. This will both test the connection and ensure that you&rsquo;re confident with how it will show on your tills.</p>

<p>Once the integration has been set up, all valid payments added to Collins will have a tick next to it in the Payments tab of the booking. The colour of the tick will determine the &lsquo;pushed to till&rsquo; status:</p>

<ul>
<li>The green tick means that the payment has already been pushed to your till:</li>
</ul>

<p><img src="https://static.designmynight.com/uploads/2017/11/pushed-to-till-optimised.png" alt="screenshot of green tick" /></p>

<ul>
<li>The orange tick will mean that the payment has not correctly pushed to your tills. Please see our troubleshooting steps below.</li>
</ul>

<p><img src="https://static.designmynight.com/uploads/2017/11/not-pushed-to-till-optimised.png" alt="screenshot of orange tick" /></p>

<h2 id="best-practice-for-pushing-all-bookings">Best Practice for Pushing all bookings</h2>

<p>If your integration is set up to push all bookings (not just bookings with deposits), it&rsquo;s important that you ensure that all of the following booking details are added to the booking in Collins:</p>

<ul>
<li>First Name</li>
<li>Last Name</li>
<li>Booking Date</li>
<li>Venue</li>
<li>Time</li>
<li>Email Address</li>
</ul>

<p>Without all these details, we will be unable to push the booking to your tills.</p>

<p><strong><em>Please note:</em></strong> if you are manually adding the First and Last Names into the booking (eg if you are taking the booking over the phone or in person), please separate multiple barrel names with a hyphen instead of a space.</p>

<p>e.g. John-Edwards <strong>NOT</strong> John Edwards</p>

<h2 id="refunding-on-collins-and-access-epos">Refunding on Collins and Access EPOS</h2>

<p>We now have the option to set up the integration so that when you <a href="https://collins.uservoice.com/knowledgebase/articles/803478-collins-pay-how-do-i-refund-a-customer">refund a deposit</a> or delete an &lsquo;Other&rsquo; payment in Collins, this change will be pushed to Stocklink so that Collins and your tills are synced. To enable this function, please let your Collins Account Manager know.</p>

<h2 id="access-epos-integration-faqs">Access EPOS Integration FAQS</h2>

<p><strong>1. If we set up the integration to push all bookings, will my in progress enquiries get pushed to tills?</strong></p>

<p>There is not currently a status check in place, so Collins would push all bookings regardless of booking status.</p>

<p><strong>2. How do I reconcile which payments have pushed to my tills?</strong></p>

<p>You will be able to filter and download your <a href="https://collins.uservoice.com/knowledgebase/articles/1874923-reports-payments">Payments Report</a> by &lsquo;pushed to till&rsquo; status.</p>

<p>This will allow you to check which payments have/haven&rsquo;t successfully pushed to your tills. For any further questions, please contact your Collins Account Manager.</p>

			
			<aside class="copyright" role="note">
				
				&copy; 2020 DesignMyNight &ndash;
				
				Documentation built with
				<a href="https://www.gohugo.io" target="_blank">Hugo</a>
				using the
				<a href="http://github.com/digitalcraftsman/hugo-material-docs" target="_blank">
					Material
				</a> theme.
			</aside>

			<footer class="footer">
				

<nav class="pagination" aria-label="Footer">
  <div class="previous">
  
      <a href="https://developers.designmynight.com/epos-crm-integrations/kobas-epos-integration/" title="">
        <span class="direction">
          Previous
        </span>
        <div class="page">
          <div class="button button-previous" role="button" aria-label="Previous">
            <i class="icon icon-back"></i>
          </div>
          <div class="stretch">
            <div class="title">
              
            </div>
          </div>
        </div>
      </a>
  
  </div>

  <div class="next">
  
      <a href="https://developers.designmynight.com/epos-crm-integrations/epos-integration/" title="">
        <span class="direction">
          Next
        </span>
        <div class="page">
          <div class="stretch">
            <div class="title">
              
            </div>
          </div>
          <div class="button button-next" role="button" aria-label="Next">
            <i class="icon icon-forward"></i>
          </div>
        </div>
      </a>
  
  </div>
</nav>




			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = '';
      var repo_id  = '';
    
    </script>

    <script src="https://developers.designmynight.com/javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(headers.length > 0) {
        for(var i = 0; i < headers.length; i++) {
          var li = document.createElement("li");
          li.setAttribute("class", "anchor");

          var a  = document.createElement("a");
          a.setAttribute("href", "#" + headers[i].id);
          a.setAttribute("title", headers[i].innerHTML);
          a.innerHTML = headers[i].innerHTML;
          
          li.appendChild(a)
          scrollspy.appendChild(li);
        }
      } else {
        scrollspy.parentElement.removeChild(scrollspy)
      }
      

      /* Add permanent link next to the headers */
      var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

      for(var i = 0; i < headers.length; i++) {
          var a = document.createElement("a");
          a.setAttribute("class", "headerlink");
          a.setAttribute("href", "#" + headers[i].id);
          a.setAttribute("title", "Permanent link")
          a.innerHTML = "#";
          headers[i].appendChild(a);
      }
    </script>

    
      <script>
        (function(i,s,o,g,r,a,m){
          i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||
          []).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;
          m.parentNode.insertBefore(a,m)
        })(window, document,
          'script', '//www.google-analytics.com/analytics.js', 'ga');
         
        ga('create', 'UA-12385609-13', 'auto');
        ga('set', 'anonymizeIp', true);
        ga('send', 'pageview');
         
        var buttons = document.querySelectorAll('a');
        Array.prototype.map.call(buttons, function(item) {
          if (item.host != document.location.host) {
            item.addEventListener('click', function() {
              var action = item.getAttribute('data-action') || 'follow';
              ga('send', 'event', 'outbound', action, item.href);
            });
          }
        });
         
        var query = document.querySelector('.query');
        query.addEventListener('blur', function() {
          if (this.value) {
            var path = document.location.pathname;
            ga('send', 'pageview', path + '?q=' + this.value);
          }
        });
      </script>
    

    <script src="https://developers.designmynight.com/javascripts/highlight.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>