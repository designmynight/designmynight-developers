<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-gb">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <title> - DMN developer documentation</title>
    <meta name="generator" content="Hugo 0.22.1" />

    
    <meta name="description" content="Developer documentation for DesignMyNight">
    
    <link rel="canonical" href="https://developers.designmynight.com/collins/v2-widget-docs/">
    
    <meta name="author" content="DesignMyNight Tech Team">
    

    <meta property="og:url" content="https://developers.designmynight.com/collins/v2-widget-docs/">
    <meta property="og:title" content="DMN developer documentation">
    <meta property="og:image" content="https://developers.designmynight.com/images/logo.png">
    <meta name="apple-mobile-web-app-title" content="DMN developer documentation">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="https://developers.designmynight.com/images/favicon.png">
    <link rel="icon" type="image/x-icon" href="https://developers.designmynight.com/images/favicon.png">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('https://developers.designmynight.com/fonts/icon.eot?52m981');
        src: url('https://developers.designmynight.com/fonts/icon.eot?#iefix52m981')
               format('embedded-opentype'),
             url('https://developers.designmynight.com/fonts/icon.woff?52m981')
               format('woff'),
             url('https://developers.designmynight.com/fonts/icon.ttf?52m981')
               format('truetype'),
             url('https://developers.designmynight.com/fonts/icon.svg?52m981#icon')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="https://developers.designmynight.com/stylesheets/application.css">
    <link rel="stylesheet" href="https://developers.designmynight.com/stylesheets/palettes.css">
    <link rel="stylesheet" href="https://developers.designmynight.com/stylesheets/styles.css">
    <link rel="stylesheet" href="https://developers.designmynight.com/stylesheets/highlight/highlight.css">

    
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ubuntu:400,700|Ubuntu%20Mono">
    <style>
      body, input {
        font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
      }
    </style>
    
    
    <script src="https://developers.designmynight.com/javascripts/modernizr.js"></script>

  </head>
  <body class="palette-primary-teal palette-accent-deep purple">




<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        
      </div>
    </div>

    

    
    <div class="button button-github" role="button" aria-label="GitHub">
      <a href="https://github.com/designmynight/dmn-developers" title="@designmynight/dmn-developers on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
    </div>
    
    
        
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">
  <a href="https://developers.designmynight.com/" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="https://developers.designmynight.com/images/logo.png">
        </div>
      
      <div class="name">
        <strong>DMN developer documentation <span class="version">1.1.0</span></strong>
        
      </div>
    </div>
  </a>

  <div class="scrollable">
    <div class="wrapper">
      

      <div class="toc">
        
        <ul>
          




<li>
  
    



<a  title="Introduction" href="https://developers.designmynight.com/">
	
	Introduction
</a>

  
  
</li>



<li>
  
    



<a  title="    " href="https://developers.designmynight.com/">
	
	    
</a>

  
  
</li>



<li>
  
  <li>
    

    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
      <span class="section">Soda</span>
      
    
      
    
      
    
      
    
    

    <ul>
      
        
        



<a  title="Voucher widget" href="https://developers.designmynight.com/soda/partner-widget/">
	
	Voucher widget
</a>

  
      
    </ul>
  </li>
  
</li>



<li>
  
  <li>
    

    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
      <span class="section">Tonic</span>
      
    
    

    <ul>
      
        
        



<a  title="Ticket widget" href="https://developers.designmynight.com/tonic/ticket-widget/">
	
	Ticket widget
</a>

  
      
    </ul>
  </li>
  
</li>



<li>
  
    



<a  title="     " href="https://developers.designmynight.com/">
	
	     
</a>

  
  
</li>



<li>
  
  <li>
    

    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
      <span class="section">Collins</span>
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
    

    <ul>
      
        
        



<a  title="Updating Email Settings" href="https://developers.designmynight.com/collins/updating-email-settings/">
	
	Updating Email Settings
</a>

  
      
        
        



<a  title="V1 Booking Widget" href="https://developers.designmynight.com/collins/booking-widget/">
	
	V1 Booking Widget
</a>

  
      
        
        



<a  title="V1 Widget: Customising 2nd Iframe" href="https://developers.designmynight.com/collins/customising-2nd-iframe/">
	
	V1 Widget: Customising 2nd Iframe
</a>

  
      
        
        



<a class="current" title="V2 Booking Widget" href="https://developers.designmynight.com/collins/v2-widget-docs/">
	
	V2 Booking Widget
</a>


<ul id="scrollspy">
</ul>
  
      
        
        



<a  title="V2 Widget: Customising Second Stage" href="https://developers.designmynight.com/collins/customising-second-stage-of-v2-widget/">
	
	V2 Widget: Customising Second Stage
</a>

  
      
        
        



<a  title="Booking URLs" href="https://developers.designmynight.com/collins/booking-url/">
	
	Booking URLs
</a>

  
      
        
        



<a  title="General Enquiry Form" href="https://developers.designmynight.com/collins/general-enquiry-form/">
	
	General Enquiry Form
</a>

  
      
        
        



<a  title="Customising Email Templates" href="https://developers.designmynight.com/collins/customising-email-templates/">
	
	Customising Email Templates
</a>

  
      
        
        



<a  title="Tracking" href="https://developers.designmynight.com/collins/tracking/">
	
	Tracking
</a>

  
      
    </ul>
  </li>
  
</li>



<li>
  
    



<a  title=" " href="https://developers.designmynight.com/">
	
	 
</a>

  
  
</li>



<li>
  
  <li>
    

    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
      <span class="section">Api</span>
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
    

    <ul>
      
        
        



<a  title="API Basics" href="https://developers.designmynight.com/api/api-basics/">
	
	API Basics
</a>

  
      
        
        



<a  title="Booking API" href="https://developers.designmynight.com/api/booking-api/">
	
	Booking API
</a>

  
      
        
        



<a  title="Bookings search" href="https://developers.designmynight.com/api/bookings-search/">
	
	Bookings search
</a>

  
      
        
        



<a  title="Users API" href="https://developers.designmynight.com/api/users-api/">
	
	Users API
</a>

  
      
        
        



<a  title="Offers API" href="https://developers.designmynight.com/api/offers-api/">
	
	Offers API
</a>

  
      
        
        



<a  title="Venues API" href="https://developers.designmynight.com/api/venues-api/">
	
	Venues API
</a>

  
      
        
        



<a  title="Venue Groups API" href="https://developers.designmynight.com/api/venue-groups/">
	
	Venue Groups API
</a>

  
      
        
        



<a  title="API FAQs" href="https://developers.designmynight.com/api/api-faqs/">
	
	API FAQs
</a>

  
      
    </ul>
  </li>
  
</li>



<li>
  
    



<a  title="        " href="https://developers.designmynight.com/">
	
	        
</a>

  
  
</li>



<li>
  
  <li>
    

    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
      <span class="section">Epos-Crm-Integrations</span>
      
    
      
    
      
    
      
    
      
    
      
    
    

    <ul>
      
        
        



<a  title="EPOS Integration" href="https://developers.designmynight.com/epos-crm-integrations/epos-integration">
	
	EPOS Integration
</a>

  
      
        
        



<a  title="Zonal EPOS Integration" href="https://developers.designmynight.com/epos-crm-integrations/zonal-epos-integration/">
	
	Zonal EPOS Integration
</a>

  
      
        
        



<a  title="IBS EPOS Integration" href="https://developers.designmynight.com/epos-crm-integrations/ibs-epos-integration/">
	
	IBS EPOS Integration
</a>

  
      
        
        



<a  title="Tevalis EPOS Integration" href="https://developers.designmynight.com/epos-crm-integrations/tevalis-epos-integration/">
	
	Tevalis EPOS Integration
</a>

  
      
        
        



<a  title="Kobas EPOS Integration" href="https://developers.designmynight.com/epos-crm-integrations/kobas-epos-integration/">
	
	Kobas EPOS Integration
</a>

  
      
        
        



<a  title="CRM Integration" href="https://developers.designmynight.com/epos-crm-integrations/crm-integration/">
	
	CRM Integration
</a>

  
      
    </ul>
  </li>
  
</li>



<li>
  
    



<a  title="          " href="https://developers.designmynight.com/">
	
	          
</a>

  
  
</li>

        </ul>
        

        
        <hr>
        <span class="section">&#9829; DesignMyNight Tech Team</span>        
        
        <ul>
          

          
          <li>
            <a href="https://github.com/designmynight/dmn-developers" target="_blank" title="@designmynight/dmn-developers on GitHub">
              @designmynight/dmn-developers on GitHub
            </a>
          </li>
          
        </ul>
        
      </div>
    </div>
  </div>
</nav>

	</div>

	<article class="article">
		<div class="wrapper">
			<h1> </h1>

			

<h1 id="booking-widget-documentation">Booking Widget Documentation</h1>

<p>The booking widget is the easiest way to allow customers to book through your website. You simply add a small piece of JavaScript to your page and the booking form will display, allowing customers to select the details of the booking they wish to make.</p>

<p>The customer journey will be as follows:</p>

<p>Stage 1: The customer selects the number of guests and date.</p>

<p><img src="https://static.designmynight.com/uploads/2019/09/V2-widget-initial-optimised.png" alt="initial widget" /></p>

<p>Stage 2: The widget will suggest available booking types. The customer will be prompted to select a booking type.
<img src="https://static.designmynight.com/uploads/2019/09/v2-widget-2-optimised.png" alt="initial widget - selecting booking types" /></p>

<p>Stage 3. The widget will surface times. The customer will be prompted to select a start and end time.
<img src="https://static.designmynight.com/uploads/2019/09/v2-widget-3-optimised.png" alt="initial widget - selecting times" /></p>

<p>Stage 4. The customer will then be directed to a splash screen to fill in their contact details and optionally taking payment or allowing pre-orders to be added to the booking. This part of the process takes place on the DesignMyNight website.
<img src="https://static.designmynight.com/uploads/2019/09/v2-widget-URL-optimised.png" alt="initial widget - contact details" />
Stages 1-3 take place within the form embedded in your website. Stage 4 takes place on a new page (and is referred to as the second stage of the widget).</p>

<h2 id="introduction">Introduction</h2>

<p>The widget is applied to a page by including the <code>&lt;script&gt;</code> tag. This can be generated using the <em>Widget Wizard</em> within Collins, or you can manually piece the tag together.</p>

<p>Attributes on the <code>&lt;script&gt;</code> tag allow you to specify options at run time, but you can also use the Javascript API to set options and control state.</p>

<p>The stylesheet must be included as well as the script tag to style the widget. We recommend using our hosted version of the CSS.</p>

<pre><code class="language-html">&lt;link rel=&quot;stylesheet&quot; href=&quot;//onsass.designmynight.com&quot;&gt;
</code></pre>

<p>A widget will be rendered inside the parent element of where the <code>&lt;script&gt;</code> tag is located. The root element of the widget will have an ID of <code>dmn-partner-widget</code>.</p>

<p>You can insert as many widgets on one page as you need, and the <code>BookingFormHelper</code> class makes it easy to manage individual widgets.</p>

<h2 id="attributes">Attributes</h2>

<p>The following attributes can be used to customise the functionality of the widget. When the value is omitted, it will be assumed <code>true</code>.</p>

<table>
<thead>
<tr>
<th>Attribute Name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>

<tbody>
<tr>
<td><code>src</code></td>
<td>Yes</td>
<td>This must point to the JS source hosted on our CDN, <code>//widgets.designmynight.com/bookings-partner.min.js</code></td>
</tr>

<tr>
<td><code>venue</code></td>
<td>Yes</td>
<td>A string containing the venue ID this widget will be used for. If you require multiple venues, you can comma separate the IDs</td>
</tr>

<tr>
<td><code>affiliate-id</code></td>
<td>No</td>
<td>The Affiliate ID which can be used to mark bookings in Collins as from the specified affiliate.</td>
</tr>

<tr>
<td><code>hide-offers</code></td>
<td>No</td>
<td>Whether or not you would like to surface offers on this widget. Regardless of the state of this attribute, offers will always be selectable on the final stage. When present, the value must be <code>true</code> or <code>false</code></td>
</tr>

<tr>
<td><code>search-venues</code></td>
<td>No</td>
<td>Whether or not you would like a search bar at the top of the Venue Selection stage, to allow users to quickly find the venue by name or address. When present, the value must be <code>true</code> or <code>false</code></td>
</tr>

<tr>
<td><code>ref</code></td>
<td>No</td>
<td>This can be any string, and is used to identify the widget when retrieving it using the <code>getWidgetByRef()</code> method of the <code>BookingFormHelper</code> class.</td>
</tr>

<tr>
<td><code>custom-source</code></td>
<td>No</td>
<td>This can be any string, and is used to track where bookings placed on this widget have come from.</td>
</tr>
</tbody>
</table>

<h3 id="examples">Examples</h3>

<h4 id="hiding-offers">Hiding offers</h4>

<pre><code class="language-html">&lt;link rel=&quot;stylesheet&quot; href=&quot;//onsass.designmynight.com&quot;&gt;
&lt;script
   src=&quot;//widgets.designmynight.com/bookings-partner.min.js&quot;
   dmn-booking-form
   venue=&quot;1234567890&quot;
   hide-offers&gt;
&lt;/script&gt;
</code></pre>

<h4 id="using-multiple-venues">Using multiple venues</h4>

<pre><code class="language-html">&lt;link rel=&quot;stylesheet&quot; href=&quot;//onsass.designmynight.com&quot;&gt;
&lt;script
    src=&quot;//widgets.designmynight.com/bookings-partner.min.js&quot;
    dmn-booking-form
    venue=&quot;1234567890,55667722334,7593759211&quot;&gt;
&lt;/script&gt;
</code></pre>

<h4 id="referencing-a-widget">Referencing a widget</h4>

<pre><code class="language-html">&lt;link rel=&quot;stylesheet&quot; href=&quot;//onsass.designmynight.com&quot;&gt;
&lt;script
    src=&quot;//widgets.designmynight.com/bookings-partner.min.js&quot;
    dmn-booking-form
    ref=&quot;foo&quot;&gt;
&lt;/script&gt;
</code></pre>

<h4 id="using-a-custom-source">Using a custom source</h4>

<pre><code class="language-html">&lt;link rel=&quot;stylesheet&quot; href=&quot;//onsass.designmynight.com&quot;&gt;
&lt;script
   src=&quot;//widgets.designmynight.com/bookings-partner.min.js&quot;
   dmn-booking-form
   custom-source=&quot;Xmas page&quot;&gt;
&lt;/script&gt;
</code></pre>

<h2 id="appearance-customisation">Appearance Customisation</h2>

<p>Within your Collins settings, you will have a <a href="https://collins.uservoice.com/knowledgebase/articles/1915747-collins-widget-wizard-styling-the-widget">Widget Wizard</a> which will allow you to easily amend the colours of your widget. If you cannot see the Widget Wizard in your admin, please contact your Collins Account Manager.</p>

<p>The stylesheet URL accepts parameters to customise the appearance of the widget.</p>

<table>
<thead>
<tr>
<th>Parameter Name</th>
<th>Expected Value</th>
<th>Description</th>
</tr>
</thead>

<tbody>
<tr>
<td><code>theme</code></td>
<td><code>default</code>, <code>dark</code></td>
<td>When using a dark background colour, we recommend using the <code>dark</code> theme</td>
</tr>

<tr>
<td><code>primary-color</code></td>
<td>A hexadecimal colour code</td>
<td>Usage of your primary colour depends on your theme.</td>
</tr>

<tr>
<td><code>background-color</code></td>
<td>A hexadecimal colour code</td>
<td>The background colour of the widget</td>
</tr>

<tr>
<td><code>body-text-color</code></td>
<td>A hexadecimal colour code</td>
<td>The text colour used on the widget</td>
</tr>
</tbody>
</table>

<h3 id="examples-1">Examples</h3>

<h4 id="dark-grey-background-with-a-red-primary-colour">Dark grey background with a red primary colour</h4>

<pre><code class="language-html">&lt;link rel=&quot;stylesheet&quot; href=&quot;//onsass.designmynight.com?theme=dark&amp;primary-color=#ff0000&quot;&gt;
&lt;script
   src=&quot;//widgets.designmynight.com/bookings-partner.min.js&quot;
   dmn-booking-form
   venue=&quot;1234567890&quot;&gt;
&lt;/script&gt;
</code></pre>

<h4 id="light-green-background-with-dark-green-text">Light green background with dark green text</h4>

<pre><code class="language-html">&lt;link rel=&quot;stylesheet&quot; href=&quot;//onsass.designmynight.com?background-color=#c6fbcd&amp;body-text-color=#316d35&quot;&gt;
&lt;script
   src=&quot;//widgets.designmynight.com/bookings-partner.min.js&quot;
   dmn-booking-form
   venue=&quot;1234567890&quot;&gt;
&lt;/script&gt;
</code></pre>

<h2 id="examples-of-customised-partner-widgets">Examples of Customised Partner Widgets</h2>

<p>You can also have a look through these <a href="https://docs.google.com/document/d/14rWWDYcjSWV1l5ttu1hp5JJ-IGBKFHuF-GIprpgWY7I/edit">examples</a> of what other venues have done (to get an idea of what can be done).</p>

<h2 id="javascript-api">Javascript API</h2>

<p>This section details the public methods you can use to control widgets on a page. The reference documentation describes methods, their parameters and their return types in TypeScript syntax, however this is purely for descriptive purposes.</p>

<h3 id="bookingformhelper"><code>BookingFormHelper</code></h3>

<p>The <code>BookingFormHelper</code> is used to retrieve <code>Widget</code> objects from the page. It&rsquo;s stored on the <code>window</code>, in the <code>DMN</code> object. It can be accessed using <code>window.DMN.BookingFormHelper</code>.</p>

<h4 id="findbookingformscripttags-widget"><code>findBookingFormScriptTags(): Widget[]</code></h4>

<p>Traverses through the DOM to find <code>&lt;script&gt;</code> elements containing the <code>dmn-booking-form</code> attribute, and renders them using the options provided on the attribute. It then returns an array of <code>Widget</code>s that have been rendered.</p>

<p>This method is run automatically when the page is loaded with at least one <code>dmn-booking-form</code> <code>&lt;script&gt;</code> element on the page.</p>

<h4 id="getwidgets-widget"><code>getWidgets(): Widget[]</code></h4>

<p>Returns an array of <code>Widget</code>s that have been rendered on this page.</p>

<h4 id="renderbookingwidget-tag-htmlscriptelement-widget-null"><code>renderBookingWidget (tag: HTMLScriptElement): Widget | null</code></h4>

<p>Takes a <code>HTMLScriptElement</code> as a parameter, and renders that particular script tag into a <code>Widget</code>. Returns the <code>Widget</code>, or <code>null</code> if the widget could not be rendered.</p>

<blockquote>
<p>The <code>HTMLScriptElement</code> passed must contain the <code>dmn-booking-form</code> attribute to render.</p>
</blockquote>

<h4 id="getwidgetbyref-ref-string-widget-null"><code>getWidgetByRef (ref: string): Widget | null</code></h4>

<p>Takes a <code>string</code> as a parameter. If a rendered <code>Widget</code> containing the corrosponding <code>ref</code> is found on the page, this will be returned. Otherwise, <code>null</code> is returned.</p>

<h4 id="isvalidtag-tag-htmlscriptelement-boolean"><code>isValidTag (tag: HTMLScriptElement): boolean</code></h4>

<p>Determines if the given <code>HTMLScriptElement</code> contains all the required attributes and is suitable for rendering.</p>

<h4 id="istagrendered-tag-htmlscriptelement-boolean"><code>isTagRendered (tag: HTMLScriptElement): boolean</code></h4>

<p>Determines if the given <code>HTMLScriptElement</code> tag has been rendered into a widget or not.</p>

<h3 id="widget"><code>Widget</code></h3>

<p>Each rendered widget is represented as a <code>Widget</code>, which contains methods for controlling its state and functionality.</p>

<h3 id="setminguests-minguests-number-widget"><code>setMinGuests (minGuests: number): Widget</code></h3>

<p>Sets the minimum number of guests which the user can select from.</p>

<h3 id="setmaxguests-maxguests-number-widget"><code>setMaxGuests (maxGuests: number): Widget</code></h3>

<p>Sets the maximum number of guests which the user can select from.</p>

<h4 id="setselectablevenuesbyid-venueids-string-widget"><code>setSelectableVenuesById (venueIds: string[]): Widget</code></h4>

<p>Sets the venues which a user can select from. An array of venue IDs strings must be passed in. This is an alternative to specifying the <code>venue</code> attribute on the <code>&lt;script&gt;</code> tag.</p>

<h4 id="showoffers-widget"><code>showOffers (): Widget</code></h4>

<p>Shows available offers on the widget. This includes a summary of all available offers at the top, as well as an offer icon next to booking types and times where they are eligible. The default behaviour is for offers to be shown.</p>

<h4 id="hideoffers-widget"><code>hideOffers (): Widget</code></h4>

<p>Hides available offers on the widget. Eligible offers will still be selectable by the user from the final details stage. This is an alternative to setting the <code>hide-offers</code> attribute on the <code>&lt;script&gt;</code> tag.</p>

<h4 id="showvenuesearch-widget"><code>showVenueSearch (): Widget</code></h4>

<p>Shows the venue search bar on the Venue Selection stage, to allow users to filter selectable venues by name or address. This is an alternative to setting the <code>search-venues</code> attribute on the <code>&lt;script&gt;</code> tag.</p>

<h4 id="hidevenuesearch-widget"><code>hideVenueSearch (): Widget</code></h4>

<p>Hides the venue search bar on the Venue Selection stage. This is the default behaviour.</p>

<h4 id="getselectablevenues-venue"><code>getSelectableVenues (): Venue[]</code></h4>

<p>Returns an array of <code>Venue</code>s which the user can select from. These venues would have been specified from the <code>venue</code> attribute on the script tag, or from <code>setSelectableVenuesById()</code>.</p>

<h4 id="setvenue-venue-venue-widget"><code>setVenue (venue: Venue): Widget</code></h4>

<p>Sets the venue which this booking will be made for. The user will still have the ability to modify this. The parameter must be a <code>Venue</code> object which can be retrieved using the <code>getSelectableVenues()</code> method.</p>

<h4 id="setvenuebyid-venueid-string-widget"><code>setVenueById (venueId: string): Widget</code></h4>

<p>Similar to the <code>setVenue()</code> method, this sets the venue which this booking will be made for, however the parameter must be the ID of the desired venue. The user will still have the ability to modify this.</p>

<h4 id="setnumberofguests-guests-number-widget"><code>setNumberOfGuests (guests: Number): Widget</code></h4>

<p>Sets the number of guests which this booking will be made for. The user will still have the ability to modify this. The parameter must be a <code>Number</code>.</p>

<h4 id="setdate-date-date-widget"><code>setDate (date: Date): Widget</code></h4>

<p>Sets the date the booking will be made for. The user will still have the ability to modify this. The parameter must be a Javascript <code>Date</code> object. Only the date segment is used - the time part will be disregarded.</p>

<h4 id="getselectabletypes-bookingtype"><code>getSelectableTypes (): BookingType[]</code></h4>

<p>Returns an array of <code>BookingType</code>s which the user can select from. This method will only return <code>BookingType</code>s when a <code>Venue</code>, Date and number of guests have been set.</p>

<h4 id="settype-type-bookingtype-widget"><code>setType (type: BookingType): Widget</code></h4>

<p>Sets the booking type which this booking will be made for. The user will still have the ability to modify this. The parameter must be a <code>BookingType</code> object which can be retrieved using the <code>getSelectableTypes()</code> method. This method will only set the type when a <code>Venue</code>, Date and number of guests have been set.</p>

<h4 id="settypebyid-typeid-string-widget"><code>setTypeById (typeId: string): Widget</code></h4>

<p>Similar to the <code>setType()</code> method, this sets the booking type which this booking will be made for, however the parameter must be the ID of the desired booking type. The user will still have the ability to modify this. This method will only set the type when a <code>Venue</code>, Date and number of guests have been set.</p>

<h4 id="setemailaddress-emailaddress-string-widget"><code>setEmailAddress (emailAddress: string): Widget</code></h4>

<p>Sets the email address of the user, so it is prefilled when the user reaches the Details stage. The user will still have the ability to modify this. The parameter must be a string.</p>

<h4 id="setfirstname-firstname"><code>setFirstName (firstName)</code></h4>

<p>Sets the first name of the user, so it is prefilled when the user reaches the Details stage. The user will still have the ability to modify this. The parameter must be a string.</p>

<h4 id="setlastname-lastname"><code>setLastName (lastName)</code></h4>

<p>Sets the last name of the user, so it is prefilled when the user reaches the Details stage. The user will still have the ability to modify this. The parameter must be a string.</p>

<h4 id="setdateofbirth-date-number-month-number-year-number"><code>setDateOfBirth (date: Number, month: Number, year: Number)</code></h4>

<p>Sets the date of birth of the user. This information will only be sent to Collins if the <em>Birthday</em> field is not set as <em>hidden</em> in Collins. All parameter must be <code>Number</code>s. Here are some examples of the expected format:</p>

<pre><code class="language-javascript">widget.setDateOfBirth(13, 1, 1995); // 13th January 1995
widget.setDateOfBirth(1, 12, 1990); // 1st December 1990
widget.setDateOfBirth(23, 4, 2000); // 23rd April 2000
</code></pre>

<h4 id="setmobilenumber-mobilenumber-string"><code>setMobileNumber (mobileNumber: string)</code></h4>

<p>Sets the user’s mobile number. The user will still have the ability to modify this. The parameter must be a string.</p>

<h4 id="setnotes-notes-string"><code>setNotes (notes: string)</code></h4>

<p>Sets the booking notes. The user will still have the ability to modify this. The parameter must be a string.</p>

			
			<aside class="copyright" role="note">
				
				&copy; 2019 DesignMyNight &ndash;
				
				Documentation built with
				<a href="https://www.gohugo.io" target="_blank">Hugo</a>
				using the
				<a href="http://github.com/digitalcraftsman/hugo-material-docs" target="_blank">
					Material
				</a> theme.
			</aside>

			<footer class="footer">
				

<nav class="pagination" aria-label="Footer">
  <div class="previous">
  
      <a href="https://developers.designmynight.com/collins/v2-widget-tracking/" title="">
        <span class="direction">
          Previous
        </span>
        <div class="page">
          <div class="button button-previous" role="button" aria-label="Previous">
            <i class="icon icon-back"></i>
          </div>
          <div class="stretch">
            <div class="title">
              
            </div>
          </div>
        </div>
      </a>
  
  </div>

  <div class="next">
  
      <a href="https://developers.designmynight.com/collins/updating-email-settings/" title="">
        <span class="direction">
          Next
        </span>
        <div class="page">
          <div class="stretch">
            <div class="title">
              
            </div>
          </div>
          <div class="button button-next" role="button" aria-label="Next">
            <i class="icon icon-forward"></i>
          </div>
        </div>
      </a>
  
  </div>
</nav>




			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = '';
      var repo_id  = '';
    
    </script>

    <script src="https://developers.designmynight.com/javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(headers.length > 0) {
        for(var i = 0; i < headers.length; i++) {
          var li = document.createElement("li");
          li.setAttribute("class", "anchor");

          var a  = document.createElement("a");
          a.setAttribute("href", "#" + headers[i].id);
          a.setAttribute("title", headers[i].innerHTML);
          a.innerHTML = headers[i].innerHTML;
          
          li.appendChild(a)
          scrollspy.appendChild(li);
        }
      } else {
        scrollspy.parentElement.removeChild(scrollspy)
      }
      

      /* Add permanent link next to the headers */
      var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

      for(var i = 0; i < headers.length; i++) {
          var a = document.createElement("a");
          a.setAttribute("class", "headerlink");
          a.setAttribute("href", "#" + headers[i].id);
          a.setAttribute("title", "Permanent link")
          a.innerHTML = "#";
          headers[i].appendChild(a);
      }
    </script>

    
      <script>
        (function(i,s,o,g,r,a,m){
          i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||
          []).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;
          m.parentNode.insertBefore(a,m)
        })(window, document,
          'script', '//www.google-analytics.com/analytics.js', 'ga');
         
        ga('create', 'UA-12385609-13', 'auto');
        ga('set', 'anonymizeIp', true);
        ga('send', 'pageview');
         
        var buttons = document.querySelectorAll('a');
        Array.prototype.map.call(buttons, function(item) {
          if (item.host != document.location.host) {
            item.addEventListener('click', function() {
              var action = item.getAttribute('data-action') || 'follow';
              ga('send', 'event', 'outbound', action, item.href);
            });
          }
        });
         
        var query = document.querySelector('.query');
        query.addEventListener('blur', function() {
          if (this.value) {
            var path = document.location.pathname;
            ga('send', 'pageview', path + '?q=' + this.value);
          }
        });
      </script>
    

    <script src="https://developers.designmynight.com/javascripts/highlight.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>